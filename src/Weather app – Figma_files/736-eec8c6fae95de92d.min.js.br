"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="15257ded-8b01-50b4-b79b-0a7c2e4d486b")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[736],{363668:(e,t,a)=>{a.d(t,{J:()=>b});var n=a(411855),r=a(922827),i=a(340818),l=a(776250),o=a(418956),c=a(809831),s=a(326069),u=a(457630),d=a(252296),f=a(230413),m=a(883211);let h=a(699670).zS;function b(){let[e,t]=(0,o.fp)(m.ph),a=(0,o.md)(m.KG),b=(0,o.md)(m.kh),p=(0,u._X)({subscribeToUpdates_expensive:!0}),[E,S]=(0,n.useState)(null),g="whiteboard"===(0,c.lg)(),T=n.useCallback(()=>{if(e){let{emojis:t,index:a}=e;if(t&&a>=0&&a<t.length){let e=(0,s._Q)(t[a]);e&&i.l7.user("insert-emoji",()=>{(0,l.sx)("inserted_editor_emoji",{emoji:e}),r.SmY.replaceCurrentShortcodeWithEmoji(e)})}}},[e]),v=n.useCallback(()=>{t(null)},[t]);if(!b||!e||null===a)return null;let y=(0,u.Yb)(p,b);if(!(0,u.ZT)(y,p))return null;let x={top:y.y+p.y-8,bottom:y.y+p.y+y.height+8,left:y.x+p.x,right:y.x+p.x+y.width,height:y.height,width:y.width},C=E&&x.height>0&&x.bottom>p.height-E&&x.top>p.height-x.bottom?{positionFromBottom:{left:x.left,bottom:p.height+p.y-x.top},direction:f.ri.UPWARDS}:{targetRect:x,direction:f.ri.DOWNWARDS};return n.createElement("div",null,n.createElement(d.j,{dispatchTypeahead:t,typeahead:e,onInsert:T,onClear:v,width:168,...C,setMaxTypeaheadHeight:S,zIndex:h,isFigJam:g,recordingKey:"emojiTypeaheadView",emojiImageSet:a}))}},593986:(e,t,a)=>{a.d(t,{C_:()=>p,E0:()=>d,iv:()=>h,LP:()=>b,JI:()=>m,v2:()=>f});var n=a(411855),r=a(188507),i=a(140593),l=a(922827),o=a(91408),c=a(563706),s=a(809831),u=a(837746);let d=(0,o.hG)(u.tui);function f(){let e=(0,r.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t,appModel:a}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.SECTION&&(e.name||a.onCanvasNameEditorInfo.mode===l.nzw.SECTION_NAME)),t=(0,r.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.STAMP),a=(0,r.d4)(({mirror:{selectionProperties:e}})=>e.nodeSelectedValidForQuickAdd);return"whiteboard"===(0,s.lg)()?e?40:t&&c.XN?40:a?20+d/2:l.qmM?.shouldRenderTableUiForSelection()!==l.miS.HIDE?20+d/2:16:8}function m(){return(0,r.d4)(e=>e.mirror.appModel.hyperlinkLocation)}function h(e,t,a,n){switch(n){case l.cfv.ABOVE:return a<e.y?l.cfv.ABOVE:l.cfv.BELOW;case l.cfv.BELOW:return a>e.y?l.cfv.BELOW:l.cfv.ABOVE;case l.cfv.LEFT:return t<e.x?l.cfv.LEFT:l.cfv.RIGHT;case l.cfv.RIGHT:return t>e.x?l.cfv.RIGHT:l.cfv.LEFT;default:(0,i.xb)(n)}}function b(e){let t=n.useRef({frameHandle:null,didMenuMidpointChange:!1,didSelectionChange:!1,lastMidpoint:{x:0,y:0},lastSelection:{}}),a=n.useCallback(()=>{let{current:a}=t;a.didMenuMidpointChange&&a.didSelectionChange&&e.current?.animate(),a.frameHandle||(a.frameHandle=setTimeout(()=>{a.didMenuMidpointChange=!1,a.didSelectionChange=!1,a.frameHandle=null},0))},[e]);return{markSelectionChanged:n.useCallback(e=>{Object.keys(t.current.lastSelection).length&&(t.current.didSelectionChange=!0,a()),t.current.lastSelection=e},[a]),markPositionChanged:n.useCallback(e=>{let{current:n}=t;(e.x!==n.lastMidpoint.x||e.y!==n.lastMidpoint.y)&&(n.didMenuMidpointChange=!0,a()),n.lastMidpoint=e},[a])}}let p=n.forwardRef(function({children:e},t){let a=n.useRef(null);return n.useImperativeHandle(t,()=>({animate:()=>{a.current&&(a.current.style.animation="none",a.current.offsetTop,a.current.style.animation="")}})),n.createElement("div",{ref:a,className:"inline_editor_layer--animationRoot--pX-db"},e)})},648836:(e,t,a)=>{a.d(t,{k:()=>E});var n=a(411855),r=a(188507),i=a(140593),l=a(922827),o=a(581166),c=a(418956),s=a(835036),u=a(809831),d=a(555074),f=a(457630),m=a(100197),h=a(425187),b=a(662599),p=a(593986);function E({children:e,isShown:t,centerInFrame:a,anchorToRect:i,showInReadOnly:o}){let c;let[s,u]=n.useState(!1),[h,b]=n.useState(!1),E=n.useRef(null),{markPositionChanged:g,markSelectionChanged:T}=(0,p.LP)(E),v=(0,r.d4)(({mirror:{appModel:e}})=>[l.QOV.DEFAULT,l.QOV.SELECTING_TEXT,l.QOV.CLICKING_TO_CHANGE_SELECTION].includes(e.activeUserAction)),y=(0,r.d4)(({mirror:{appModel:e}})=>e.isReadOnly),x=(0,f._X)({subscribeToUpdates_expensive:t}),C=(0,m.J2)(l.Ez5.canvasViewState().selectionBoundingRect),k=(0,m.J2)(l.Ez5.canvasViewState().inlineMenuTarget),_=i||k?.boundingBox||C,O=(0,p.JI)(),I=(0,r.d4)(e=>e.mirror.sceneGraphSelection),A=(0,d.kl)("isTableSublayerSelected"),w=(c=l.cfv.ABOVE,k?.preferredPosition?c=k.preferredPosition:A&&(c=l.cfv.BELOW),c),M=!!O||!x||!_||!v||y&&!o||!t;n.useEffect(()=>{(M||h)&&s&&u(!1)},[M,s,h]);let L=x?.offsetX||0,B=x?.offsetY||0;return(n.useEffect(()=>{u(!1)},[I,L,B]),n.useEffect(()=>{T(I)},[I,T]),M)?n.createElement(p.C_,{ref:E},null):n.createElement(S,{viewport:x,animationContainerRef:E,centerInFrame:a,boundingBox:_,preferredRelativePosition:w,setSizeChanged:b,isHovering:s,setIsHovering:u,markPositionChanged:g},e)}function S({children:e,viewport:t,animationContainerRef:a,centerInFrame:r,boundingBox:d,preferredRelativePosition:m,setSizeChanged:E,isHovering:S,setIsHovering:g,markPositionChanged:T}){let[v,y]=(0,c.fp)(h.f),x=v.positionRelativeToSelection,C=n.useRef(null),k=(0,u.lg)(),_=(0,p.v2)(),O=r?0:_,I=(0,s.FQ)(),A=(0,f.Yb)(t,d),w=n.useMemo(()=>({...A,x:A.x+t.x,y:A.y+t.y}),[A,t]),M=n.useCallback((e,a,n,r)=>{if(t){let i=e-t.x,o=a-t.y,c=(0,f.$$)(t,{x:i,y:o-r/window.devicePixelRatio});l.glU.figjamInlineMenuPositionUpdate(c.x,c.y,n.height)}T({x:e+n.width/2,y:a+n.height/2});let i=(0,p.iv)(w,e,a,m);x!==i&&y({type:"SET_POS_RELATIVE_TO_SELECTION",payload:i})},[t,T,w,x,y,m]),L=n.useCallback((e,t,a)=>{switch(a){case l.cfv.ABOVE:return[(0,b.Al)(e,t),r?(0,b.tJ)(e,t):(0,b.T1)(e,t,O)];case l.cfv.BELOW:return[(0,b.Al)(e,t),r?(0,b.tJ)(e,t):(0,b.DH)(e,t,O)];case l.cfv.LEFT:return[(0,b.Dl)(e,t,20),r?(0,b.tJ)(e,t):e.y];case l.cfv.RIGHT:return[(0,b.Yh)(e,20),r?(0,b.tJ)(e,t):e.y];default:(0,i.xb)(a)}},[O,r]),B=n.useCallback((e,t,a)=>{let[n,r]=L(e,t,a);return o.r.fromOriginAndSize(n,r,t.width,t.height)},[L]),R=n.useCallback((e,t,a,n,i)=>!r&&a===l.cfv.ABOVE&&n.top()>i.top()?B(e,t,l.cfv.BELOW):!r&&a===l.cfv.BELOW&&n.top()<i.top()?B(e,t,l.cfv.ABOVE):a===l.cfv.LEFT&&n.left()>i.left()?B(e,t,l.cfv.RIGHT):a===l.cfv.RIGHT&&n.left()<i.left()?B(e,t,l.cfv.LEFT):n,[B,r]),N=n.useCallback((e,a,n,r)=>{let i=o.r.fromOriginAndSize(t.x,t.y,t.width,t.height),l=B(e,a,m),c=I(l,i,r),s=R(e,a,m,c,l);return s!==c&&(c=I(s,i,r)),[c.left(),c.top()]},[m,t.height,t.width,t.x,t.y,I,B,R]);if(!(0,f.ZT)(A,t))return n.createElement(p.C_,{ref:a},null);let P="whiteboard"===k&&S?{transition:"transform 0.1s"}:{};return P.WebkitUserSelect="none",n.createElement(b.lM,{style:P,targetRect:w,onMouseEnter:()=>{g(!0),C.current&&clearTimeout(C.current),C.current=null},onMouseLeave:()=>{C.current=setTimeout(()=>g(!1),100)},offset:O,positionXY:N,onPosition:M,frozen:S,setSizeChanged:E},n.createElement(p.C_,{ref:a},e))}},359919:(e,t,a)=>{a.d(t,{n:()=>c});var n=a(411855),r=a(188507),i=a(601607),l=a(980150),o=a(982386);function c(){let e=function(){let e=(0,r.d4)(e=>e.mirror.appModel.onCanvasPillInfo);return(0,i.Fk)((e,t)=>t&&0!==t.length?t.map(t=>{let a=e.get(t.guid);if(!a||"-1:-1"===a.guid)return null;let n={guid:a.guid,name:a.name,type:a.type,boundingBox:a.absoluteBoundingBox,isFigmaPurple:t.isFigmaPurple,hasEnabledStaticImagePaint:a.hasEnabledStaticImagePaint,isState:a.isState,isStateGroup:a.isStateGroup,stackCounterAlignItems:a.stackCounterAlignItems,stackMode:a.stackMode,isGroup:a.isGroup,canHaveStatus:a.canHaveStatus,hasStatus:a.hasStatus,objectsPanelThumbnailId:a.objectsPanelThumbnailId};if(n.isState&&t.symbolId){let a=e.get(t.symbolId);n.symbolName=a?.name}return n}):null,e)}()?.[0];return e?n.createElement(l.MO,{node:e,offsetX:-3},n.createElement("div",{className:o.nM},n.createElement(l.Tq,{node:e}),n.createElement("span",{className:o.dK},e.symbolName?e.symbolName:e.name))):null}},535758:(e,t,a)=>{a.d(t,{e:()=>g});var n=a(411855),r=a(688009),i=a(922827),l=a(966712),o=a(418956),c=a(153234),s=a(939863),u=a(952593),d=a(809831),f=a(283942),m=a(611978),h=a(92073),b=a(773610),p=a(601538),E=a(234587),S=a(359108);function g({activeTab:e,recordingKey:t}){let a=(0,m._6)(),{showPublish:g,showLayersPanel:T,showSitesBlocksPanel:v,showCodePanel:y,showDakotaPanel:x}=(0,S.U)(),C=(0,E.Vj)(a),k=(0,l.kc)().sts_code,_=(0,o.md)(b.AS).enabled,O=(0,u.U9)()&&C,I=(0,d.ow)(),A=i.xae.LAYERS.toString(),w=i.xae.KITS_SITES.toString(),M=i.xae.CODE.toString(),L=i.xae.ASSETS.toString(),B=i.xae.DAKOTA.toString(),[R,,N]=r.t.useManagedTabs({[A]:!0,[w]:C&&!_,[M]:C&&k,[L]:!I,[B]:O},e.toString(),e=>{switch(parseInt(e)){case i.xae.LAYERS:T();break;case i.xae.KITS_SITES:v();break;case i.xae.CODE:y();break;case i.xae.ASSETS:g();break;case i.xae.DAKOTA:x();break;default:(t=>{throw Error("Unhandled tab behavior: "+e)})(0)}},{recordingKey:c.Pt(t,"tabs")});return n.createElement("div",{className:"ui3_tabs--tabStrip--zypFK",onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},onKeyDown:e=>{e.defaultPrevented||(0,f.f7)(e)}},n.createElement(r.t.TabStrip,{manager:N},n.createElement(r.t.Tab,{...R[A]},(0,s.tx)("fullscreen.pages_panel.file_tab")),n.createElement(r.t.Tab,{...R[w],htmlAttributes:{"data-testid":"kitsSitesTab"},onboardingKey:h.PG},(0,s.tx)("fullscreen.pages_panel.resources_tab")),n.createElement(r.t.Tab,{...R[M]},(0,s.tx)("fullscreen.pages_panel.code_tab")),n.createElement(r.t.Tab,{...R[L],onboardingKey:p.Qr},(0,s.tx)("fullscreen.pages_panel.assets_tab")),n.createElement(r.t.Tab,{...R[B]},(0,s.tx)("fullscreen.pages_panel.dakota_tab"))))}}}]);

//# debugId=15257ded-8b01-50b4-b79b-0a7c2e4d486b

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/5592336e7b8dc5758681cf31e37c0348802c30d9/736-eec8c6fae95de92d.min.js.map